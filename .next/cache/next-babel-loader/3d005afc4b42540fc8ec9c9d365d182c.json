{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\bonaf\\\\Desktop\\\\Projects\\\\Ecommerce\\\\Malinka\\\\frontend\\\\malinka\\\\pages\\\\itemgallery\\\\[item].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport API_URL from '../../routes';\nimport { addMultipleItems as _addMultipleItems } from '../../src/redux/cart/cart.actions';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleUp, faAngleDown } from '@fortawesome/free-solid-svg-icons';\n\nvar ItemPage = function ItemPage(_ref) {\n  _s();\n\n  var item = _ref.item,\n      addMultipleItems = _ref.addMultipleItems;\n\n  var _useState = useState(1),\n      quantity = _useState[0],\n      setQuantity = _useState[1];\n\n  var _useState2 = useState(0),\n      currentImage = _useState2[0],\n      setCurrentImage = _useState2[1];\n\n  var onIncrease = function onIncrease() {\n    setQuantity(quantity + 1);\n  };\n\n  var onDecrease = function onDecrease() {\n    if (quantity === 1) {\n      null;\n    } else {\n      setQuantity(quantity - 1);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"item-details-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, console.log(item), __jsx(\"div\", {\n    className: \"item-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-gallery\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-main-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    alt: \"product-image\",\n    className: \"item-details-main-image-image\",\n    src: \"\".concat(API_URL).concat(item.gallery[currentImage].formats.medium.url),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"item-details-thumbnails\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, item.gallery.slice(0, 3).map(function (image, index) {\n    return __jsx(\"img\", {\n      key: image.id,\n      className: \"item-details-thumbnails-image\",\n      alt: \"image-thumbnail\",\n      src: \"\".concat(API_URL).concat(image.formats.thumbnail.url),\n      onClick: function onClick() {\n        return setCurrentImage(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 34\n      }\n    });\n  }))), __jsx(\"div\", {\n    className: \"item-details-text-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, item.name), __jsx(\"div\", {\n    className: \"item-details-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: \"item-details-previous-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, item.price * 1.2), __jsx(\"span\", {\n    className: \"item-details-current-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, item.price)), __jsx(\"div\", {\n    className: \"item-details-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, item.description), __jsx(\"div\", {\n    className: \"item-details-categories\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"CATEGORIES: \", item.categories.map(function (category, index) {\n    return __jsx(\"span\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 73\n      }\n    }, category.name, \" \");\n  })), __jsx(\"div\", {\n    className: \"item-details-add-to-cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, quantity), __jsx(\"div\", {\n    className: \"item-details-quantity-navigation\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity-arrows\",\n    onClick: onIncrease,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 37\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faAngleUp,\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 104\n    }\n  })), __jsx(\"div\", {\n    className: \"item-details-quantity-arrows\",\n    onClick: onDecrease,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faAngleDown,\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 104\n    }\n  })))), __jsx(\"button\", {\n    type: \"button\",\n    className: \"item-details-add-to-cart-button\",\n    onClick: function onClick() {\n      return addMultipleItems([item, quantity]);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"ADD TO CART\")))));\n};\n\n_s(ItemPage, \"qnUYjbjvV+vcQUNuRLd66vNmNak=\");\n\n_c = ItemPage;\n\nItemPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, resBouqet, dataBouqet;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            _context.next = 3;\n            return fetch(\"\".concat(API_URL, \"/bouquets/\").concat(query.item));\n\n          case 3:\n            resBouqet = _context.sent;\n            _context.next = 6;\n            return resBouqet.json();\n\n          case 6:\n            dataBouqet = _context.sent;\n            return _context.abrupt(\"return\", {\n              item: dataBouqet\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addMultipleItems: function addMultipleItems(item) {\n      return dispatch(_addMultipleItems(item));\n    }\n  };\n}; // export async function getServerSideProps(){\n//         const resBouqet = await fetch(`${API_URL}/bouquets/12`)\n//         const item = await resBouqet.json()\n//         return {props: {item}}\n//     }    \n\n\nexport default connect(null, mapDispatchToProps)(ItemPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemPage\");","map":{"version":3,"sources":["C:/Users/bonaf/Desktop/Projects/Ecommerce/Malinka/frontend/malinka/pages/itemgallery/[item].js"],"names":["React","useState","useRouter","API_URL","addMultipleItems","connect","FontAwesomeIcon","faAngleUp","faAngleDown","ItemPage","item","quantity","setQuantity","currentImage","setCurrentImage","onIncrease","onDecrease","console","log","gallery","formats","medium","url","slice","map","image","index","id","thumbnail","name","price","description","categories","category","getInitialProps","query","fetch","resBouqet","json","dataBouqet","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport API_URL from '../../routes';\r\nimport {addMultipleItems} from '../../src/redux/cart/cart.actions';\r\nimport {connect} from 'react-redux';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faAngleUp, faAngleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst ItemPage =({item, addMultipleItems}) => {\r\n\r\n        const [quantity, setQuantity] = useState(1)\r\n        const [currentImage, setCurrentImage] = useState(0)\r\n\r\n        const onIncrease = () => {\r\n            setQuantity(quantity+1)\r\n        }\r\n\r\n        const onDecrease = () => {\r\n            if (quantity===1) {\r\n                null\r\n            } else {\r\n                setQuantity(quantity-1)\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className='item-details-container'>\r\n                {console.log(item)}\r\n                <div className='item-details'>\r\n                    <div className='item-details-gallery'>\r\n                        <div className='item-details-main-image'>\r\n                            <img  alt='product-image' className='item-details-main-image-image' src={`${API_URL}${item.gallery[currentImage].formats.medium.url}`} />\r\n                        </div>\r\n                        <div className='item-details-thumbnails'>\r\n                            {item.gallery.slice(0,3).map((image,index) => \r\n                                 <img key={image.id} \r\n                                 className='item-details-thumbnails-image' \r\n                                 alt='image-thumbnail' \r\n                                 src={`${API_URL}${image.formats.thumbnail.url}`}\r\n                                 onClick={() => setCurrentImage(index)}\r\n                                 />\r\n                                )}\r\n                        </div>\r\n                    </div>\r\n                    <div className='item-details-text-content'>\r\n                        <div className='item-details-name'>\r\n                            {item.name}\r\n                        </div>\r\n                        <div className='item-details-price'>\r\n                            <span className='item-details-previous-price'>{item.price*1.2}</span>\r\n                            <span className='item-details-current-price'>{item.price}</span>\r\n                        </div>\r\n                        <div className='item-details-description'>\r\n                            {item.description}\r\n                        </div>\r\n                        <div className='item-details-categories'>\r\n                            CATEGORIES: {\r\n                                item.categories.map((category,index) => <span key={index}>{category.name} </span>)\r\n                            }\r\n                        </div>\r\n                        <div className='item-details-add-to-cart'>\r\n                            <div className='item-details-quantity'>\r\n                            <div className='item-details-quantity-text'>{quantity}</div>\r\n                                <div className='item-details-quantity-navigation'>\r\n                                    <div className='item-details-quantity-arrows' onClick={onIncrease}><FontAwesomeIcon icon={faAngleUp} size='lg'/></div>\r\n                                    <div className='item-details-quantity-arrows' onClick={onDecrease}><FontAwesomeIcon icon={faAngleDown} size='lg'/></div>\r\n                                </div>\r\n                            </div>\r\n                            <button type='button' className='item-details-add-to-cart-button' onClick={() => addMultipleItems([item,quantity])}>ADD TO CART</button>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\nItemPage.getInitialProps = async ({query}) => {\r\n    const resBouqet = await fetch(`${API_URL}/bouquets/${query.item}`)\r\n    const dataBouqet = await resBouqet.json()\r\n    return {item: dataBouqet}\r\n}    \r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addMultipleItems: item => dispatch(addMultipleItems(item))\r\n})\r\n\r\n// export async function getServerSideProps(){\r\n//         const resBouqet = await fetch(`${API_URL}/bouquets/12`)\r\n//         const item = await resBouqet.json()\r\n//         return {props: {item}}\r\n\r\n//     }    \r\n\r\nexport default connect(null, mapDispatchToProps)(ItemPage);"]},"metadata":{},"sourceType":"module"}