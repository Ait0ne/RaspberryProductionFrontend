{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bonaf\\\\Desktop\\\\Projects\\\\Ecommerce\\\\Malinka\\\\frontend\\\\malinka\\\\pages\\\\itemgallery\\\\[item].js\";\nvar __jsx = React.createElement;\nimport React, { useState, Fragment } from 'react';\nimport { useRouter } from 'next/router';\nimport API_URL from '../../routes';\nimport { addMultipleItems } from '../../src/redux/cart/cart.actions';\nimport { connect } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleUp, faAngleDown } from '@fortawesome/free-solid-svg-icons';\nimport Footer from '../../components/Footer/footer.component';\nimport Scrollbar from 'react-scrollbars-custom';\nimport ReviewForm from '../../components/Review/review.component';\nimport { motion } from 'framer-motion';\nconst easing = [.6, -.05, .01, .99];\nconst stagger = {\n  animate: {\n    transition: {\n      staggerChildren: 0.05\n    }\n  }\n};\nconst fadeInUp = {\n  initial: {\n    y: 60,\n    opacity: 0\n  },\n  animate: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: .3,\n      ease: easing\n    }\n  }\n};\n\nconst ItemPage = ({\n  item,\n  addMultipleItems\n}) => {\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(1);\n  const {\n    0: currentImage,\n    1: setCurrentImage\n  } = useState(0);\n  const {\n    0: comments,\n    1: setComments\n  } = useState(item.comments ? item.comments.slice(0).reverse() : []);\n\n  const onIncrease = () => {\n    setQuantity(quantity + 1);\n  };\n\n  const onDecrease = () => {\n    if (quantity === 1) {\n      null;\n    } else {\n      setQuantity(quantity - 1);\n    }\n  };\n\n  const addComments = comment => setComments([comment, ...comments]);\n\n  return __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(motion.div, {\n    className: \"item-details-container\",\n    exit: {\n      opacity: 0\n    },\n    initial: \"initial\",\n    animate: \"animate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, console.log(item), __jsx(\"div\", {\n    className: \"item-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, __jsx(motion.div, {\n    className: \"item-details-main-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, __jsx(motion.img, {\n    initial: {\n      x: 200,\n      opacity: 0\n    },\n    animate: {\n      x: 0,\n      opacity: 1,\n      transition: {\n        duration: 0.2\n      }\n    },\n    transition: {\n      delay: 0.2\n    },\n    alt: \"product-image\",\n    className: \"item-details-main-image-image\",\n    src: `${API_URL}${item.gallery[currentImage].url}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  })), __jsx(\"div\", {\n    className: \"item-details-thumbnails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, item.gallery.slice(0, 3).map((image, index) => __jsx(\"img\", {\n    key: image.id,\n    className: \"item-details-thumbnails-image\",\n    alt: \"image-thumbnail\",\n    src: `${API_URL}${image.formats.thumbnail.url}`,\n    onClick: () => setCurrentImage(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    className: \"item-details-text-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, item.name), __jsx(\"div\", {\n    className: \"item-details-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: \"item-details-previous-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, item.price * 1.2), __jsx(\"span\", {\n    className: \"item-details-current-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, item.price)), __jsx(\"div\", {\n    className: \"item-details-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, item.description), __jsx(\"div\", {\n    className: \"item-details-categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, \"CATEGORIES: \", item.categories.map((category, index) => __jsx(\"span\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 77\n    }\n  }, category.name, \" \"))), __jsx(\"div\", {\n    className: \"item-details-add-to-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, quantity), __jsx(\"div\", {\n    className: \"item-details-quantity-navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: \"item-details-quantity-arrows\",\n    onClick: onIncrease,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 41\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faAngleUp,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 108\n    }\n  })), __jsx(\"div\", {\n    className: \"item-details-quantity-arrows\",\n    onClick: onDecrease,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 41\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faAngleDown,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 108\n    }\n  })))), __jsx(\"button\", {\n    type: \"button\",\n    className: \"item-details-add-to-cart-button\",\n    onClick: () => addMultipleItems([item, quantity]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, \"ADD TO CART\")), __jsx(\"div\", {\n    className: \"item-comment-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: \"item-comment-section-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, \"Reviews:\"), comments.length ? __jsx(Scrollbar, {\n    style: {\n      height: '300px',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, comments.map(comment => {\n    return __jsx(\"div\", {\n      key: comment.id,\n      className: \"comment-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 45\n      }\n    }, __jsx(\"div\", {\n      className: \"item-comment-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 49\n      }\n    }, comment.name), __jsx(\"div\", {\n      className: \"item-comment-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 49\n      }\n    }, comment.date), __jsx(\"div\", {\n      className: \"item-comment-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 49\n      }\n    }, comment.text));\n  })) : __jsx(\"div\", {\n    className: \"no-comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 35\n    }\n  }, \"There are no reviews for this item yet.\"), __jsx(\"div\", {\n    className: \"review-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, __jsx(ReviewForm, {\n    item: item,\n    addComments: addComments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  })))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }));\n};\n\nItemPage.getInitialProps = async ({\n  query\n}) => {\n  const resBouqet = await fetch(`${API_URL}/bouquets/${query.item}`);\n  const dataBouqet = await resBouqet.json();\n  return {\n    item: dataBouqet\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addMultipleItems: item => dispatch(addMultipleItems(item))\n}); // export async function getServerSideProps(){\n//         const resBouqet = await fetch(`${API_URL}/bouquets/12`)\n//         const item = await resBouqet.json()\n//         return {props: {item}}\n//     }    \n\n\nexport default connect(null, mapDispatchToProps)(ItemPage);","map":{"version":3,"sources":["C:/Users/bonaf/Desktop/Projects/Ecommerce/Malinka/frontend/malinka/pages/itemgallery/[item].js"],"names":["React","useState","Fragment","useRouter","API_URL","addMultipleItems","connect","FontAwesomeIcon","faAngleUp","faAngleDown","Footer","Scrollbar","ReviewForm","motion","easing","stagger","animate","transition","staggerChildren","fadeInUp","initial","y","opacity","duration","ease","ItemPage","item","quantity","setQuantity","currentImage","setCurrentImage","comments","setComments","slice","reverse","onIncrease","onDecrease","addComments","comment","console","log","x","delay","gallery","url","map","image","index","id","formats","thumbnail","name","price","description","categories","category","length","height","width","date","text","getInitialProps","query","resBouqet","fetch","dataBouqet","json","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useState, Fragment} from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport API_URL from '../../routes';\r\nimport {addMultipleItems} from '../../src/redux/cart/cart.actions';\r\nimport {connect} from 'react-redux';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faAngleUp, faAngleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Footer  from '../../components/Footer/footer.component';\r\nimport Scrollbar from 'react-scrollbars-custom';\r\nimport ReviewForm from '../../components/Review/review.component'\r\nimport {motion} from 'framer-motion'\r\n\r\nconst easing = [.6, -.05, .01, .99]\r\n\r\nconst stagger = {\r\n    animate: {\r\n        transition: {\r\n            staggerChildren: 0.05\r\n        }\r\n    }\r\n}\r\n\r\nconst fadeInUp = {\r\n    initial: {\r\n        y:60,\r\n        opacity: 0\r\n    },\r\n    animate: {\r\n        y:0,\r\n        opacity:1,\r\n        transition: {\r\n            duration: .3,\r\n            ease: easing\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ItemPage =({item, addMultipleItems}) => {\r\n        \r\n        const [quantity, setQuantity] = useState(1)\r\n        const [currentImage, setCurrentImage] = useState(0)\r\n        const [comments, setComments] = useState(item.comments? item.comments.slice(0).reverse():[])\r\n        \r\n        const onIncrease = () => {\r\n            setQuantity(quantity+1)\r\n        }\r\n\r\n\r\n\r\n        const onDecrease = () => {\r\n            if (quantity===1) {\r\n                null\r\n            } else {\r\n                setQuantity(quantity-1)\r\n            }\r\n        }\r\n\r\n        const addComments = (comment) => setComments([comment,...comments])\r\n\r\n        return (\r\n            <Fragment>\r\n\r\n                <motion.div className='item-details-container'\r\n                exit={{opacity:0}}\r\n                initial='initial'\r\n                animate='animate'\r\n                >\r\n                    {console.log(item)}\r\n                    <div className='item-details'>\r\n                        <div className='item-details-gallery'>\r\n                            <motion.div className='item-details-main-image'\r\n                            >\r\n                                <motion.img \r\n                                initial={{x:200, opacity:0}}\r\n                                animate={{x:0, opacity: 1, transition:{duration: 0.2}}}\r\n                                transition={{delay: 0.2}}\r\n                                \r\n                                alt='product-image' \r\n                                className='item-details-main-image-image'\r\n                                 src={`${API_URL}${item.gallery[currentImage].url}`} />\r\n                            </motion.div>\r\n                            <div className='item-details-thumbnails'>\r\n                                {item.gallery.slice(0,3).map((image,index) => \r\n                                    <img key={image.id} \r\n                                    className='item-details-thumbnails-image' \r\n                                    alt='image-thumbnail' \r\n                                    src={`${API_URL}${image.formats.thumbnail.url}`}\r\n                                    onClick={() => setCurrentImage(index)}\r\n                                    />\r\n                                    )}\r\n                            </div>\r\n                        </div>\r\n                        <div className='item-details-text-content'>\r\n                            <div className='item-details-name'>\r\n                                {item.name}\r\n                            </div>\r\n                            <div className='item-details-price'>\r\n                                <span className='item-details-previous-price'>{item.price*1.2}</span>\r\n                                <span className='item-details-current-price'>{item.price}</span>\r\n                            </div>\r\n                            <div className='item-details-description'>\r\n                                {item.description}\r\n                            </div>\r\n                            <div className='item-details-categories'>\r\n                                CATEGORIES: {\r\n                                    item.categories.map((category,index) => <span key={index}>{category.name} </span>)\r\n                                }\r\n                            </div>\r\n                            <div className='item-details-add-to-cart'>\r\n                                <div className='item-details-quantity'>\r\n                                <div className='item-details-quantity-text'>{quantity}</div>\r\n                                    <div className='item-details-quantity-navigation'>\r\n                                        <div className='item-details-quantity-arrows' onClick={onIncrease}><FontAwesomeIcon icon={faAngleUp} size='lg'/></div>\r\n                                        <div className='item-details-quantity-arrows' onClick={onDecrease}><FontAwesomeIcon icon={faAngleDown} size='lg'/></div>\r\n                                    </div>\r\n                                </div>\r\n                                <button type='button' className='item-details-add-to-cart-button' onClick={() => addMultipleItems([item,quantity])}>ADD TO CART</button>\r\n\r\n\r\n                            </div>\r\n                            <div className='item-comment-section'>\r\n                                <span className='item-comment-section-title'>Reviews:</span>\r\n                                {\r\n                                    comments.length ?\r\n                                <Scrollbar style={{height:'300px', width: '100%'}} >\r\n                                    {comments.map((comment) => {\r\n                                        return (\r\n                                            <div key={comment.id} className='comment-text'>\r\n                                                <div className='item-comment-name'>\r\n                                                    {comment.name}\r\n                                                </div>\r\n                                                <div className='item-comment-date'>\r\n                                                    {comment.date}\r\n                                                </div>\r\n                                                <div className='item-comment-text'>\r\n                                                    {comment.text}\r\n                                                </div>\r\n                                                \r\n                                            </div>\r\n                                        )\r\n\r\n                                    })}\r\n                                </Scrollbar>\r\n                                : <div className='no-comments' >\r\n                                    There are no reviews for this item yet.\r\n                                    </div>\r\n\r\n                                }\r\n                                <div className='review-container'>\r\n                                    <ReviewForm item={item} addComments={addComments}/>                                    \r\n                                </div>\r\n                                   \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n\r\n                <Footer/>\r\n            </Fragment>\r\n        )\r\n    }\r\n\r\nItemPage.getInitialProps = async ({query}) => {\r\n    const resBouqet = await fetch(`${API_URL}/bouquets/${query.item}`)\r\n    const dataBouqet = await resBouqet.json()\r\n    return {item: dataBouqet}\r\n}    \r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addMultipleItems: item => dispatch(addMultipleItems(item))\r\n})\r\n\r\n// export async function getServerSideProps(){\r\n//         const resBouqet = await fetch(`${API_URL}/bouquets/12`)\r\n//         const item = await resBouqet.json()\r\n//         return {props: {item}}\r\n\r\n//     }    \r\n\r\nexport default connect(null, mapDispatchToProps)(ItemPage);"]},"metadata":{},"sourceType":"module"}