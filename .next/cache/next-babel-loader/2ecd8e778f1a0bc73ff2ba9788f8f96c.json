{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Fragment } from 'react';\nimport Header from '../Header/header.component';\nimport Head from 'next/head';\nimport { connect } from 'react-redux';\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils';\nimport { setCurrentUser } from '../../src/redux/user/user.action';\nimport Footer from '../Footer/footer.component';\n\nclass Layout extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"unsubscribeFromAuth\", null);\n  }\n\n  componentDidMount() {\n    const {\n      setCurrentUser\n    } = this.props;\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser(_objectSpread({\n            id: snapShot.id\n          }, snapShot.data()));\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n      href: `https://fonts.googleapis.com/css2?family=Lora:ital@0;1&family=Open+Sans:wght@400;600;700&display=swap`,\n      rel: \"stylesheet\"\n    }), __jsx(\"link\", {\n      href: `https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&display=swap`,\n      rel: \"stylesheet\"\n    }), __jsx(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1, shrink-to-fit=no\"\n    }), __jsx(\"meta\", {\n      name: \"theme-color\",\n      content: \"#425566\"\n    }), __jsx(\"meta\", {\n      name: \"Description\",\n      content: \"\\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0430\\u0439\\u0442\\u0430\"\n    }), __jsx(\"meta\", {\n      httpEquiv: \"Content-Type\",\n      content: \"text/html; charset=utf-8\",\n      charSet: \"utf-8\"\n    })), __jsx(Header, null), __jsx(\"div\", {\n      className: \"main\"\n    }, this.props.children));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","map":null,"metadata":{},"sourceType":"module"}