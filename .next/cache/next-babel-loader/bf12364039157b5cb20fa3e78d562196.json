{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nconst config = {\n  apiKey: \"AIzaSyABugTRykVjU3cO3nkANbnArtyZ_TPix1Q\",\n  authDomain: \"raspberry-dacc1.firebaseapp.com\",\n  databaseURL: \"https://raspberry-dacc1.firebaseio.com\",\n  projectId: \"raspberry-dacc1\",\n  storageBucket: \"raspberry-dacc1.appspot.com\",\n  messagingSenderId: \"435336134829\",\n  appId: \"1:435336134829:web:36258d0b8bdb9bf9810624\",\n  measurementId: \"G-E4XKDDZNWV\"\n};\nexport const createUserProfileDocument = async (userAuth, data) => {\n  if (!userAuth) return;\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\n  const snapshot = await userRef.get();\n\n  if (!snapshot.exists) {\n    const {\n      displayName,\n      email\n    } = userAuth;\n    const createdAt = new Date();\n\n    try {\n      await userRef.set(_objectSpread({\n        displayName,\n        email,\n        createdAt\n      }, data));\n    } catch (err) {\n      console.log('error creating user', err.message);\n    }\n  }\n\n  return userRef;\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nexport const Fire = () => {\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n  }\n};\nexport const sendMessage = async (message, channel) => {\n  const userRef = firestore.collection('Chat').doc(`${channel}`).collection(`messages`).doc(`${new Date()}`);\n  await userRef.set({\n    id: new Date(),\n    text: message,\n    createdAt: new Date().getTime(),\n    user: {\n      id: channel\n    }\n  });\n};\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\nconst provider = new firebase.auth.GoogleAuthProvider();\nprovider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport const signInwithGoogle = () => auth.signInWithPopup(provider);\nconst facebookProvider = new firebase.auth.FacebookAuthProvider();\nfacebookProvider.setCustomParameters({\n  prompt: 'select_account'\n});\nexport const signInWithFacebook = () => auth.signInWithPopup(facebookProvider).catch(err => alert('Your account is associated with a different Login method!'));\nexport default firebase;","map":null,"metadata":{},"sourceType":"module"}