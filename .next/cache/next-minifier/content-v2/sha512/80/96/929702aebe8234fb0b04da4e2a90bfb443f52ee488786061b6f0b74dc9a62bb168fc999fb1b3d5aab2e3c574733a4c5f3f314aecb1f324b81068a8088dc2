{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"76ho\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/itemgallery/[item]\",function(){return a(\"tUaR\")}])},\"HaE+\":function(e,t,a){\"use strict\";function n(e,t,a,n,i,s,c){try{var r=e[s](c),m=r.value}catch(l){return void a(l)}r.done?t(m):Promise.resolve(m).then(n,i)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(i,s){var c=e.apply(t,a);function r(e){n(c,i,s,r,m,\"next\",e)}function m(e){n(c,i,s,r,m,\"throw\",e)}r(void 0)}))}}a.d(t,\"a\",(function(){return i}))},RS05:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),i=a.n(n).a.createElement;t.a=function(){return i(\"div\",{className:\"footer-container\"},i(\"div\",{className:\"footer\"},i(\"span\",null,\"Confidentiality aggreement\"),i(\"span\",null,\"Other info\")))}},iRjQ:function(e,t,a){\"use strict\";var n=a(\"wx14\"),i=a(\"Ff2n\"),s=a(\"q1tI\"),c=a.n(s).a.createElement;t.a=function(e){var t=e.handleChange,a=e.label,s=Object(i.a)(e,[\"handleChange\",\"label\"]);return c(\"div\",{className:\"group\"},c(\"input\",Object(n.a)({className:\"form-input\",onChange:t},s)),a?c(\"label\",{className:\"\".concat(s.value.length?\"shrink\":\"\",\" form-input-label\")},a):null)}},tUaR:function(e,t,a){\"use strict\";a.r(t);var n=a(\"o0o1\"),i=a.n(n),s=a(\"HaE+\"),c=a(\"KQm4\"),r=a(\"q1tI\"),m=a.n(r),l=(a(\"nOHt\"),a(\"8cHP\")),o=a(\"kJ35\"),u=a(\"/MKj\"),d=a(\"IP2g\"),v=a(\"wHSu\"),p=a(\"RS05\"),f=a(\"2IRS\"),b=a(\"iRjQ\"),h=a(\"glag\"),N=m.a.createElement,g=function(e){var t=e.item,a=e.addComments,n=Object(r.useState)(\"\"),c=n[0],m=n[1],o=Object(r.useState)(\"\"),u=o[0],d=o[1],v=Object(r.useState)(\"\"),p=v[0],f=v[1],g=function(e){var t=e.target,a=t.value,n=t.name;\"text\"===n?m(a):\"name\"===n?d(a):f(a)};return N(\"form\",{onSubmit:function(){var e=Object(s.a)(i.a.mark((function e(n){var s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch(\"\".concat(l.b,\"/comments\"),{method:\"post\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({email:p,text:c,name:u,date:new Date,item:t.id})});case 3:return s=e.sent,e.next=6,s.json();case 6:return r=e.sent,e.next=9,a(r);case 9:f(\"\"),d(\"\"),m(\"\");case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N(h.a,{name:\"text\",handleChange:g,value:c,label:\"Your Review\",required:!0}),N(b.a,{name:\"name\",type:\"name\",handleChange:g,value:u,label:\"Name\",required:!0}),N(b.a,{name:\"email\",type:\"email\",label:\"Email\",value:p,handleChange:g,required:!0}),N(\"div\",{className:\"buttons\"},N(\"button\",{className:\"review-button\",type:\"submit\"},\"Leave a review\")))},y=a(\"ZMKu\"),w=m.a.createElement,x=function(e){var t=e.item,a=e.addMultipleItems,n=Object(r.useState)(1),i=n[0],s=n[1],m=Object(r.useState)(0),l=m[0],o=m[1],u=Object(r.useState)(t.comments?t.comments.slice(0).reverse():[]),b=u[0],h=u[1];return w(r.Fragment,null,w(y.b.div,{className:\"item-details-container\",exit:{opacity:0},initial:{opacity:0},animate:{opacity:1,transition:{duration:.8}}},console.log(t),w(\"div\",{className:\"item-details\"},w(\"div\",{className:\"item-details-gallery\"},w(y.b.div,{className:\"item-details-main-image\"},w(y.b.img,{initial:{x:200,opacity:0},animate:{x:0,opacity:1,transition:{duration:.5}},transition:{delay:.2},alt:\"product-image\",className:\"item-details-main-image-image\",src:t.gallery[l].url})),w(\"div\",{className:\"item-details-thumbnails\"},t.gallery.slice(0,3).map((function(e,t){return w(\"img\",{key:e.id,className:\"item-details-thumbnails-image\",alt:\"image-thumbnail\",src:e.formats.thumbnail.url,onClick:function(){return o(t)}})})))),w(\"div\",{className:\"item-details-text-content\"},w(\"div\",{className:\"item-details-name\"},t.name),w(\"div\",{className:\"item-details-price\"},w(\"span\",{className:\"item-details-previous-price\"},1.2*t.price),w(\"span\",{className:\"item-details-current-price\"},t.price)),w(\"div\",{className:\"item-details-description\"},t.description),w(\"div\",{className:\"item-details-categories\"},\"CATEGORIES: \",t.categories.map((function(e,t){return w(\"span\",{key:t},e.name,\" \")}))),w(\"div\",{className:\"item-details-add-to-cart\"},w(\"div\",{className:\"item-details-quantity\"},w(\"div\",{className:\"item-details-quantity-text\"},i),w(\"div\",{className:\"item-details-quantity-navigation\"},w(\"div\",{className:\"item-details-quantity-arrows\",onClick:function(){s(i+1)}},w(d.a,{icon:v.b,size:\"lg\"})),w(\"div\",{className:\"item-details-quantity-arrows\",onClick:function(){1===i||s(i-1)}},w(d.a,{icon:v.a,size:\"lg\"})))),w(\"button\",{type:\"button\",className:\"item-details-add-to-cart-button\",onClick:function(){return a([t,i])}},\"ADD TO CART\")),w(\"div\",{className:\"item-comment-section\"},w(\"span\",{className:\"item-comment-section-title\"},\"Reviews:\"),b.length?w(f.a,{style:{height:\"300px\",width:\"100%\"}},b.map((function(e){return w(\"div\",{key:e.id,className:\"comment-text\"},w(\"div\",{className:\"item-comment-name\"},e.name),w(\"div\",{className:\"item-comment-date\"},e.date),w(\"div\",{className:\"item-comment-text\"},e.text))}))):w(\"div\",{className:\"no-comments\"},\"There are no reviews for this item yet.\"),w(\"div\",{className:\"review-container\"},w(g,{item:t,addComments:function(e){return h([e].concat(Object(c.a)(b)))}})))))),w(p.a,null))};x.getInitialProps=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,e.next=3,fetch(\"\".concat(l.b,\"/bouquets/\").concat(a.item));case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt(\"return\",{item:s});case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=Object(u.b)(null,(function(e){return{addMultipleItems:function(t){return e(Object(o.b)(t))}}}))(x)}},[[\"76ho\",1,2,5,8,0,4,3,6,7,12]]]);","extractedComments":[]}